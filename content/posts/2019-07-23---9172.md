---
title: "Understanding the CMOS amplifier and CMOS inverter by G-SPICE practice/G-SPICE ì‹¤ìŠµì„ í†µí•œ CMOS amplifierì™€ CMOS inverterì˜ ì´í•´"
date: "2019-07-23T23:40:32.169Z"
template: "post"
draft: false
slug: "/posts/9172"
category: "Nano Physics"
tags: 
 - "RLC CIRCUIT"
 - "NMOS"
 - "CMOS"
description: "EDISON ì‚¬ì´ì–¸ìŠ¤ ì•±ì„ í™œìš©í•´ G-SPICE ì‹¤ìŠµì„ í†µí•œ CMOS amplifierì™€ CMOS inverterì˜ ì´í•´"
---

##Document history
2015.9.18 : Created

2016.5.27 : Revision with the RLC circuit tutorial

2016.6.13 : Revision with the NMOS/CMOS inverter


##TUTORIAL FOR RLC CIRCUIT
###SPICE
####Simulation Program with Integrated Circuit Emphasis
Originally developed at UC Berkeley (first release in 1971) It was a term project in a graduate course! 

####G-SPICE is an implementation of the SPICE.
It is serviced through the EDISON website.

![Aspect ratio](/media/POST/9172/0.jpg)
![Aspect ratio](/media/POST/9172/1.jpg)

###Tutorial for RLC circuit (1)
####Time and voltage sources
![Aspect ratio](/media/POST/9172/2.jpg)

###Tutorial for RLC circuit (2)
####Voltage sources
![Aspect ratio](/media/POST/9172/3.jpg)

###Tutorial for RLC circuit (3)
####Voltage sources
![Aspect ratio](/media/POST/9172/4.jpg)
![Aspect ratio](/media/POST/9172/5.jpg)

###Tutorial for RLC circuit (4)
####Voltage source example
![Aspect ratio](/media/POST/9172/6.jpg)

V source = 2 + sin(pi*t) [V]
â†’ â€˜vdcâ€™ ì™€ â€˜vsinâ€™ì„ ê°™ì´ ì‚¬ìš©í•˜ë©´ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
 
###Tutorial for RLC circuit (5)
####Voltage source example
![Aspect ratio](/media/POST/9172/7.jpg)

###Tutorial for RLC circuit (6)
####Voltage source example
![Aspect ratio](/media/POST/9172/8.jpg)

Elementsë¥¼ ì„¤ì •í•˜ê³  ì‘ì—…ìƒì„±í›„ì— í›„ì²˜ë¦¬ê¸°(OneDplot)ì„ í†µí•´ì„œ ë‹¤ìŒê³¼ ê°™ì€ ê·¸ë˜í”„ë¥¼í™•ì¸í• ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ì— ëŒ€í•œ ìì„¸í•œ ë°©ë²•ì€ ë’¤ì—ì„œ ë‹¤ë£¨ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤. ì§€ê¸ˆì€ V sourceë¥¼ ì´ë ‡ê²Œë§Œë“¤ìˆ˜ìˆë‹¤ëŠ” ê²ƒì„í™•ì¸í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.

![Aspect ratio](/media/POST/9172/9.jpg)

vdc, vsin, vpulseë¥¼ ì ì ˆí•˜ê²Œ ì—°ê²°í•˜ë©´ ë‹¤ì–‘í•œ í˜•íƒœì˜ V sourceë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  

###Tutorial for RLC circuit (7)
####Elements
![Aspect ratio](/media/POST/9172/10.jpg)

ElementsëŠ” MOS, R, L, C ì¤‘ í•„ìš”í•œ ê²ƒì„ useë¡œ ë†“ê³  nodeë¥¼ ì§€ì •í•˜ì—¬ ì‚¬ìš©í•©ë‹ˆë‹¤.

í•œ elementsì—ì„œ ì„œë¡œ ë‹¤ë¥¸ ì—¬ëŸ¬ ê°œì˜ ì†Œìë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  
###Tutorial for RLC circuit (8)
####Elements

í•˜ë‚˜ì˜ elementsì—ì„œ ì„œë¡œ ë‹¤ë¥¸ ì—¬ëŸ¬ ê°œì˜ ì†Œìë¥¼ ì„¤ì • í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ì„œ, ì˜¤ë¥¸ìª½ íšŒë¡œëŠ” ì•„ë˜ì™€ ê°™ì´ elements[0]ì—ì„œ R, L, Cë¥¼ ëª¨ë‘ useë¡œ ë†“ê³  ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.

![Aspect ratio](/media/POST/9172/11.jpg)

![Aspect ratio](/media/POST/9172/12.jpg)


$\Rightarrow$ íšŒë¡œì™€ ê°™ì´ ë³´ë©´ ê° ë…¸ë“œê°’ì´ ì–´ë–»ê²Œ ì„¤ì •ë˜ëŠ”ì§€ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

###Tutorial for RLC circuit (9)
####Example circuit
![Aspect ratio](/media/POST/9172/13.jpg)

###Tutorial for RLC circuit (10)
####ì‹œë®¬ë ˆì´ì…˜ ìƒì„±
![Aspect ratio](/media/POST/9172/14.jpg)

###Tutorial for RLC circuit (11)
####íŒŒë¼ë¯¸í„° ì…ë ¥
![Aspect ratio](/media/POST/9172/15.jpg)

###Tutorial for RLC circuit (12)
####Time, voltage sources ì„¤ì •
![Aspect ratio](/media/POST/9172/16.jpg)

Unit step function ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œëŠ” â€˜vpulseâ€™ë§Œ í•„ìš”í•˜ë¯€ë¡œ â€˜vpulseâ€™ëŠ” useë¡œ ë§Œë“¤ê³  â€˜vdc, vsweep, vsinâ€™ì€ ëª¨ë‘ do_not_useë¡œ ë†“ìŠµë‹ˆë‹¤.
   
###Tutorial for RLC circuit (13)
####Voltage sources ì„¤ì •
![Aspect ratio](/media/POST/9172/17.jpg)

###Tutorial for RLC circuit (14)
####Elements ì„¤ì •
![Aspect ratio](/media/POST/9172/18.jpg)

###Tutorial for RLC circuit (15)
####ì‘ì—… ìƒì„±
![Aspect ratio](/media/POST/9172/20.jpg)

###Tutorial for RLC circuit (16)
####ì‘ì—…ì œì¶œ ì •ë³´
![Aspect ratio](/media/POST/9172/19.jpg)

###Tutorial for RLC circuit (17)
####ëª¨ë‹ˆí„°ë§
![Aspect ratio](/media/POST/9172/21.jpg)

###Tutorial for RLC circuit (18)
####ëª¨ë‹ˆí„°ë§
![Aspect ratio](/media/POST/9172/22.jpg)

###Tutorial for RLC circuit (19)
####ëª¨ë‹ˆí„°ë§
![Aspect ratio](/media/POST/9172/23.jpg)

  
###Tutorial for RLC circuit (20)
####ëª¨ë‹ˆí„°ë§
![Aspect ratio](/media/POST/9172/24.jpg)

###Tutorial for RLC circuit (21)
####ëª¨ë‹ˆí„°ë§
![Aspect ratio](/media/POST/9172/25.jpg)

###Tutorial for RLC circuit (22)
####ëª¨ë‹ˆí„°ë§
![Aspect ratio](/media/POST/9172/26.jpg)

##EXERCISE WITH SIMPLE EXAMPLES
###MOSFET example
![Aspect ratio](/media/POST/9172/27.jpg)

####MOSFET Id-Vds 
- Input file
- Change the gate voltage
- Channel length modulation?


###Amplifier
####Draw its schematic
![Aspect ratio](/media/POST/9172/28.jpg)

Its input-output characteristic?

###AC simulation
####Imposing a sinusoidal signal 
![Aspect ratio](/media/POST/9172/29.jpg)

How about the output voltage?

##NMOS/CMOS INVERTERS
###In the digital circuit,
####How can we represent 0 and 1? 
$V_{D D}$ is assigned to the logical value, 1. 

$G N D$ is assigned to the logical value, 0.

![Aspect ratio](/media/POST/9172/30.jpg)

###Inverter
####When the output becomes 0?
![Aspect ratio](/media/POST/9172/31.jpg)

- Only when the input is high.
- You have seen it before, as a common-source amplifer! 
- In this time, we will use the same circuit as an inverter.

###NMOS inverter (1)
####Following parameters are used.
$\mu_{n} C_{o x}=200 \mu \mathrm{A} / \mathrm{V}^{2}$, $V_{T H}=0.4 \mathrm{V}, \frac{W}{L}=\frac{5}{0.18}$, $\lambda=0.1 \mathrm{V}^{-1}$, $R_{D}=2 k \Omega$ and $V_{D D}=1.8 \mathrm{V}$

![Aspect ratio](/media/POST/9172/32.jpg)


###NMOS inverter (2)
####Different values of ğ‘…ğ· (8000 Ohm and 500 Ohm)
0 $\rightarrow$ 1 is always good, but, 1 $\rightarrow$ 0 depends on the situation. 

Relative â€œstrengthâ€ determines the VTC.

![Aspect ratio](/media/POST/9172/33.jpg)

###Standby Power
####The biggest problem in the NMOS inverter 
- When $V_{i n}$ = 0, no standby power
- When $V_{i n}=V_{D D}$, the power consumption is (approximately) $\frac{V_{D D}^{2}}{R_{D}}$.
- If $V_{D D}$ =1.8Vand $R_{D}=10 k \Omega$, 324$\mu W$!

![Aspect ratio](/media/POST/9172/34.jpg)

###Current
####Current as a function of input voltage
DC power consumption is given by a product between the voltage and the current.

Estimate the power consumption.

###CMOS inverter 
####Ideal â€œpull-upâ€ should have the following properties.
When $V_{i n}=V_{D D}$, no current conduction. ğ‘–ğ‘– ğ·ğ·

When $V_{i n}=0$, improved current conduction.

####PMOS can do those jobs.
![Aspect ratio](/media/POST/9172/35.jpg)

###Parameters
####Parameters for a CMOS inverter 
- $V_{D D}=1.8 \mathrm{V}$
- NMOS parameters:$\mu_{n} C_{o x}=200 \mu \mathrm{A} / \mathrm{V}^{2}$, $V_{T H}=0.4 \mathrm{V}$, $\frac{W}{L}=\frac{5}{0.18}$, $\lambda=0.1 \mathrm{V}^{-1}$
- PMOS parameters: $\mu_{p} C_{o x}=100 \mu \mathrm{A} / \mathrm{V}^{2}$, $V_{T H}=-0.4 \mathrm{V}$, $\frac{W}{L}=\frac{20}{0.18}$, $\lambda=0.2 \mathrm{V}^{-1}$
- (Two large resistors â€“ parallel to both transistors â€“ are introduced.)

###Voltage transfer curve
####Improved voltage transfer curve
Compare the CMOS inverter and the NMOS inverter.
![Aspect ratio](/media/POST/9172/36.jpg)


###No standby power
####Even better news
No standby power is dissipated for the CMOS inverter.
![Aspect ratio](/media/POST/9172/37.jpg)

